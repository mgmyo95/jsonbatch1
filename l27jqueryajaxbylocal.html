<!DOCTYPE html>
<html>

<head>
    <title>Openweathermap Application programm</title>
    <style type="text/css">
        body {
            height: 100vh;

            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            width: 300px;
            background-color: #f4f4f4;
            padding: 10px;
        }

        .display{
            width:100%;

        }
        </style>
    
</head>

<body>

    <div class="container">
        <div id="display">

        </div>
        <button type="button" id="btn">Click Me</button>
    </div>


    <script src="https://code.jquery.com/jquery-3.7.1.min.js" type="text/javascript"></script>

    <script type="text/javascript">

        //AJAX 
        //    initialize the HTTP Request

        // var xmlhttp = new XMLHttpRequest();
        //             //protocol , route link,
        // xmlhttp.open("GET","./l12sampledata.json",false); // false mean no synchronize 
        // xmlhttp.send();

        // if(xmlhttp.readyState === 4 && xmlhttp.status === 200){
        //     // var result = xmlhttp;
        //     // console.log(result);

        //     var result = xmlhttp.responseText;
        //     // console.log(result);

        // }

        // console.log(result);
        // console.log(typeof(result));

        // result = JSON.parse(result);

        // console.log(result);
        // console.log(typeof(result));

        // console.log(result.weather);
        // console.log(result.weather[0].main);
        // console.log(result.weather[0]['main']);
        // console.log(result.wind.speed);
        // console.log(result.wind['speed']);
        // console.log(result['wind']['speed']);
        // console.log(result.name);



        // => fetch()
        // Sytax; 

        // fetch(url)
        // .then(response=>response.json())
        // .then(data)  concat function
        // .catch(err=>console.log(err))

        // var url = "./l12sampledata.json";
        // fetch(url).then(function (response) {
        //     // console.log(response);
        //     // console.log(response.headers.get('Content-type')); // application/json; charset=UTF-8

        //     // console.log(response.type); // return basic 
        //     return response.json();  // change json format 
        // }).then(function (data) {
        //     console.log(data);
        //     console.log(typeof data); // object
        //     console.log(data.weather);
        //     console.log(data.weather[0].main);
        //     console.log(data.weather[0]['main']);
        //     console.log(data.wind.speed);
        //     console.log(data.wind['speed']);
        //     console.log(data['wind']['speed']);
        //     console.log(data.name);
        // }).catch(function (err) {
        //     console.log(err);
        // });

        // => $.ajax()

        // Syntax 
        // $.ajax({
        //     url : url
        // }).done((data)=>{
        //     output
        // }).fail(()=>{
        //     error
        // });

        var src = "./l12sampledata.json";

        // $.ajax({
        //     method : "GET",  // PROTOCOL 
        //     url : src,
        //     dataType : 'json'  // text 
        // }).done((data)=>{
        //     console.log(data);
        //     // console.log(typeof data);
        //     // console.log(data.weather);
        //     // console.log(data.weather[0].main);
        //     // console.log(data.weather[0]['main']);
        //     // console.log(data.wind.speed);
        //     // console.log(data.wind['speed']);
        //     // console.log(data['wind']['speed']);
        //     console.log(data.name);
        // }).fail(()=>{
        //     console.log('Error');
        // });

        // $.ajax({
        //     method : "GET",  // PROTOCOL 
        //     url : src,
        //     dataType : 'json',  // text 
        //     success : successfun    // success is keyname
        // });

        // // parameter 3ku py lot ya tl
        // function successfun(data,status,xhr){
        //     console.log(data);
        //     console.log(data.name);
        //     console.log(status);  // success
        //     console.log(xhr);  // readyState
        //     console.log(xhr.status);  // 200
        // }

        // jQuery ajax  Short Hand

        $("#btn").click(()=>{
            $.get(src,output);
        });

        // $.get(url,output);
        function output(data){
            console.log(data);
            console.log(data.name);
        }



        




    </script>
</body>

</html>