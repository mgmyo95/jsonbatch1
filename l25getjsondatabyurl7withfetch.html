<!DOCTYPE html>
<html>

<head>
    <title>Get Json data by url 5</title>
    <style type="text/css">
        body {
            height: 100vh;

            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            width: 300px;
            background-color: #f4f4f4;
            padding: 10px;
        }

        .display{
            width:100%;

        }

    </style>
</head>

<body>

    <div class="container">
        <div id="display">

        </div>
        <button type="button" id="btn">Click Me</button>
    </div>

    <script type="text/javascript">

        let getdisplay = document.getElementById('display');
        let getbtn = document.getElementById('btn');

        getbtn.addEventListener('click', function () {
            loaddata();
        });

        function loaddata() {

            var xmlhttp = new XMLHttpRequest();
            var key = `l3zukmq21rm58dkx`;
            var url = `https://api.ipregistry.co/?key=${key}`;

            xmlhttp.open('GET', url); // default mean yes synchronize 
            xmlhttp.onload = function () {
                console.log(xmlhttp);

                var result = xmlhttp.response;
                result = JSON.parse(result);
                console.log(result);

                var html = `
                    <ul>
                        <li>External IP = ${result.ip}</li>
                        <li>Current Device = ${result.user_agent.device.name} / ${result.user_agent.device.type}</li>
                        <li>Operating System = ${result.user_agent.os.name}</li>
                        <li>Load By = ${result.user_agent.type}</li>
                        <li>City = ${result.location.city}</li>
                        <li>Local Currency = ${result.currency.symbol}</li>
                        <li>Time Zone = ${result['time_zone']['id']}</li>
                    </ul>
                    `;

                    getdisplay.innerHTML = html;
                }
                xmlhttp.send();

        }




        // https://ipregistry.co/
        // https://whatismyipaddress.com/



        // 11DJ



    </script>
</body>

</html>

